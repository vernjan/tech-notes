# Signals & Interrupts
- interrupts are generated by both hardware and software

## Hardware interrupts
- **asynchronous** - emitted from hardware devices (keyboard, mouse, disk, NIC, ...) onto a CPU (`INT` pin)
- handled by OS - suspend the current execution and trigger the _interrupt handler_

## Software interrupts
- **synchronous** - emitted from the CPU itself (caused by a process or OS)

### Traps
- generated intentionally by a process when a process wants to request an OS service (make a system call)
- assembly instruction `int 0x80`
    - `0x80` - kernel will handle the interrupt
    - for example calling system calls `write` and then `exit`
    ```
    mov eax, 0x4                ;4 is the unique system call number of the write system call
    mov ebx, 1                  ;1 is the file descriptor for the stdout stream
    mov ecx, message            ;message is the string that needs to be printed on the console
    mov edx, message_length     ;length of message
    int 0x80                    ;interrupt to run the kernel
    
    mov eax, 0x1                ;1 is the unique system call number of the exit system call
    mov ebx, 0                  ;argument to exit system call
    int 0x80                    ;interrupt to run the kernel and exit gracefully
    ```

### Faults
- when a process causes a recoverable error (page fault, segmentation fault)
- process can overwrite default interrupts handlers

### Aborts
- when a process causes a non-recoverable error (hardware errors)
- interrupt handler aborts the process (cannot be caught)

## Signals
- form of inter-process communication (IPC)
- processes register _trap handlers_ (default handlers exist)
- `kill` - utility for sending signals
- signals defined by [POSIX](https://en.wikipedia.org/wiki/Signal_(IPC)#POSIX_signals)
    - `SIGINT` - `ctrl + c`
    - `SIGKILL`
    - `SIGSEGV`
    - `SIGHUP` (nohup)
- signals can be filtered using _signal mask_